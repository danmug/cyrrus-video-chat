(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},160:function(e,t){},162:function(e,t){},175:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(14),l=a.n(s),i=a(223),r=a(7),o=(a(130),a(217)),j=a(114),b=a(77),d=a.n(b),u=a(3),m=Object(n.createContext)(),O=Object(j.io)("https://cyrrus-video-chat.herokuapp.com/"),p=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(r.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),j=o[0],b=o[1],p=Object(n.useState)(),x=Object(r.a)(p,2),f=x[0],h=x[1],v=Object(n.useState)(""),_=Object(r.a)(v,2),g=_[0],N=_[1],C=Object(n.useState)({}),y=Object(r.a)(C,2),S=y[0],k=y[1],w=Object(n.useState)(""),E=Object(r.a)(w,2),F=E[0],I=E[1],z=Object(n.useRef)(),B=Object(n.useRef)(),A=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){h(e),z.current.srcObject=e})),O.on("me",(function(e){return I(e)})),O.on("callUser",(function(e){var t=e.from,a=e.name,n=e.signal;k({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(u.jsx)(m.Provider,{value:{call:S,callAccepted:s,myVideo:z,userVideo:B,stream:f,name:g,setName:N,callEnded:j,me:F,callUser:function(e){var t=new d.a({initiator:!0,trickle:!1,stream:f});t.on("signal",(function(t){O.emit("callUser",{userToCall:e,signalData:t,from:F,name:g})})),t.on("stream",(function(e){B.current.srcObject=e})),O.on("callAccepted",(function(e){l(!0),t.signal(e)})),A.current=t},leaveCall:function(){b(!0),A.current.destroy(),window.location.reload()},answerCall:function(){l(!0);var e=new d.a({initiator:!1,trickle:!1,stream:f});e.on("signal",(function(e){O.emit("answerCall",{signal:e,to:S.from})})),e.on("stream",(function(e){B.current.srcObject=e})),e.signal(S.signal),A.current=e}},children:t})},x=function(){var e=Object(n.useContext)(m),t=e.answerCall,a=e.call,c=e.callAccepted,s=Object(n.useState)(!1),l=Object(r.a)(s,2);l[0],l[1];return Object(u.jsxs)("div",{className:"nav__wrapper",children:[Object(u.jsx)("div",{className:a.isReceivingCall&&!c?"nav active":"nav ",children:Object(u.jsx)("h3",{children:"CYRRUS VIDEO CHAT"})}),Object(u.jsx)("div",{className:"notification__wrapper",children:Object(u.jsxs)("div",{className:a.isReceivingCall&&!c?"notification active":"notification",children:[Object(u.jsx)("div",{onClick:t,className:"call",children:Object(u.jsxs)("div",{className:"call-phone",children:[Object(u.jsx)("div",{className:"call-phone__circle"}),Object(u.jsx)("div",{className:"call-phone__circle-fill"}),Object(u.jsx)("div",{className:"call-phone__circle-img",children:Object(u.jsx)("span",{className:"icon-phone",children:Object(u.jsx)(o.a,{fontSize:"large"})})})]})}),Object(u.jsxs)("h3",{children:[a.name," calling you"]})]})})]})},f=(a(175),a(64)),h=a(117),v=a.n(h),_=a(118),g=a.n(_),N=a(8),C=a(224),y=a(221),S=a(222),k=Object(N.a)({root:{"& label":{color:"#e9d2ce",fontFamily:"Montserrat",fontSize:"17px",fontWeight:"bold"},"& label.Mui-focused":{color:"#e9d2ce"},"& .MuiInput-underline::before":{borderColor:"#e9d2ce",borderWidth:2},"& .MuiInput-underline::after":{borderColor:"#e9d2ce",borderWidth:2}}})(C.a),w=Object(i.a)((function(e){return{margin:{margin:e.spacing(0)},label:{fontFamily:"Montserrat",fontSize:"17px",fontWeight:"bold",color:"#e9d2ce"},submit:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",margin:e.spacing(1),color:"#e9d2ce",fontFamily:"Marcellus",fontSize:"15px",fontWeight:"300"}}})),E=function(){var e=Object(n.useContext)(m),t=e.me,a=e.callAccepted,c=e.name,s=e.setName,l=e.callEnded,i=e.leaveCall,j=e.callUser,b=Object(n.useState)(""),d=Object(r.a)(b,2),O=d[0],p=d[1],x=Object(n.useState)(!1),h=Object(r.a)(x,2),_=h[0],N=h[1],C=w(),E=function(){N(!_)};return Object(u.jsx)("div",{className:"sidebar__wrapper",children:Object(u.jsx)("div",{className:"sidebar",children:Object(u.jsxs)("div",{className:_?"sidebar__content active":"sidebar__content",children:[_?Object(u.jsx)(v.a,{onClick:E,style:{fontSize:60,cursor:"pointer",color:"#0E0B0F"}}):Object(u.jsx)(g.a,{onClick:E,style:{fontSize:60,cursor:"pointer",color:"#0E0B0F"}}),Object(u.jsxs)("div",{className:"sidebar__items",children:[Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("div",{className:"icon__wrapper",children:Object(u.jsx)("div",{onClick:E,className:"icon",children:Object(u.jsxs)("div",{className:"icon__content",style:{backgroundColor:"#e9d2ce"},children:[Object(u.jsx)("div",{className:"info__button",style:{left:"0px"}}),Object(u.jsx)("span",{style:{color:"rgb(0,0,0)",marginLeft:"42px"},children:"Account Info"})]})})}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"info__input",children:[Object(u.jsx)(k,{variant:"standard",className:C.margin,fullWidth:!0,label:"Enter your name",onChange:function(e){return s(e.target.value)},name:"email",value:c,autoComplete:"off",InputProps:{className:C.label}}),Object(u.jsx)("br",{}),Object(u.jsx)(f.CopyToClipboard,{text:t,children:Object(u.jsxs)("button",{type:"button",className:"button",children:[Object(u.jsx)("span",{className:"button__text",children:"COPY YOUR ID"}),Object(u.jsx)("span",{className:"button__icon",children:Object(u.jsx)(y.a,{fontSize:"large"})})]})})]})]}),Object(u.jsxs)("p",{className:"copyright",style:{opacity:"".concat(_?"1":"0"),transition:"200ms"},children:["Made with ",Object(u.jsx)("span",{children:"\ud83d\udc99"})," in Cyrrus Labs"]}),Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("div",{className:"icon__wrapper",children:Object(u.jsx)("div",{onClick:a&&!l?i:E,className:"icon",children:Object(u.jsxs)("div",{className:"icon__content",style:{backgroundColor:"#e9d2ce"},children:[Object(u.jsx)("div",{className:"call__button",style:{right:"0px"}}),Object(u.jsx)("span",{style:{color:"rgb(0,0,0)",marginLeft:"12px"},children:a&&!l?Object(u.jsx)("p",{children:"Hang Up call"}):Object(u.jsx)("p",{children:"Make a call"})})]})})}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"call__input",children:[Object(u.jsx)(k,{variant:"standard",className:C.margin,fullWidth:!0,label:"ID to call",onChange:function(e){return p(e.target.value)},name:"email",value:O,autoComplete:"off",InputProps:{className:C.label}}),Object(u.jsx)("br",{}),a&&!l?Object(u.jsxs)("button",{type:"button",className:"button",onClick:i,children:[Object(u.jsx)("span",{className:"button__icon",children:Object(u.jsx)(S.a,{fontSize:"large"})}),Object(u.jsx)("span",{className:"button__text",children:"HANG UP"})]}):Object(u.jsxs)("button",{type:"button",onClick:function(){return j(O)},className:"button",children:[Object(u.jsx)("span",{onClick:E,className:"button__icon",children:Object(u.jsx)(o.a,{fontSize:"large"})}),Object(u.jsx)("span",{className:"button__text",children:"CALL"})]})]})]})]})]})})})},F=(a(180),function(){var e=Object(n.useContext)(m),t=e.name,a=e.callAccepted,c=e.myVideo,s=e.userVideo,l=e.callEnded,i=e.stream,r=e.call;return Object(u.jsxs)("div",{className:"video__wrapper",children:[i&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"video__stream",children:[Object(u.jsx)("video",{playsInline:!0,muted:!0,ref:c,autoPlay:!0,className:"video__container"}),Object(u.jsx)("div",{className:"overlay__wrapper",children:Object(u.jsx)("h4",{children:t||"Name"})})]})}),a&&!l&&Object(u.jsxs)("div",{className:"video__stream",children:[Object(u.jsx)("video",{playsInline:!0,ref:s,autoPlay:!0,className:"video__container"}),Object(u.jsx)("div",{className:"overlay__wrapper",children:Object(u.jsx)("h4",{children:r.name||"Name"})})]})]})}),I=a(6),z=a(4),B=(a(181),a(119)),A=a.n(B),M=a(225),P=a(227),W=a(78),R=c.a.forwardRef((function(e,t){var a=e.in,n=e.children,c=e.onEnter,s=e.onExited,l=Object(z.a)(e,["in","children","onEnter","onExited"]),i=Object(W.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&c&&c()},onRest:function(){!a&&s&&s()}});return Object(u.jsx)(W.animated.div,Object(I.a)(Object(I.a)({ref:t,style:i},l),{},{children:n}))})),U=Object(N.a)({root:{"& label":{color:"#0E0B0F",fontFamily:"Montserrat",fontSize:"17px",fontWeight:"bold"},"& label.Mui-focused":{color:"#0E0B0F"},"& .MuiInput-underline::before":{borderColor:"#0E0B0F",borderWidth:2},"& .MuiInput-underline::after":{borderColor:"#0E0B0F",borderWidth:2}}})(C.a),D=Object(i.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"none",borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(4,4,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center","&:focus":{outline:"none"}},margin:{margin:e.spacing(0)},label:{fontFamily:"Montserrat",fontSize:"17px",fontWeight:"bold",color:"#0E0B0F"},submit:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",margin:e.spacing(1),color:"#fff",fontFamily:"Marcellus",fontSize:"15px",fontWeight:"300"}}})),L=function(){var e=Object(n.useContext)(m),t=e.me,a=e.callAccepted,s=e.name,l=e.setName,i=e.callEnded,j=e.leaveCall,b=e.callUser,d=D(),O=Object(n.useState)(""),p=Object(r.a)(O,2),x=p[0],h=p[1],v=c.a.useState(!1),_=Object(r.a)(v,2),g=_[0],N=_[1],C=c.a.useState(!1),k=Object(r.a)(C,2),w=k[0],E=k[1],F=c.a.useState(!1),I=Object(r.a)(F,2),z=I[0],B=I[1],W=function(){N(!1),B(!1),E(!1)};return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"sidebar__small__wrapper",children:[Object(u.jsxs)("div",{className:"sidebar__small",children:[Object(u.jsxs)("span",{onClick:function(){N(!0),E(!0)},className:"button__small__icon",children:[Object(u.jsx)(A.a,{style:{color:"rgba(233,210,206,1)"},fontSize:"large"}),Object(u.jsx)("p",{children:"Infos"})]}),Object(u.jsxs)("span",{onClick:a&&!i?j:function(){N(!0),B(!0)},className:"button__small__icon",children:[Object(u.jsx)(o.a,{style:{color:"rgba(233,210,206,1)"},fontSize:"large"}),a&&!i?Object(u.jsx)("p",{children:"HangUp"}):Object(u.jsx)("p",{children:"Call"})]})]}),Object(u.jsx)(M.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:d.modal,open:g,onClose:W,closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500},children:Object(u.jsx)("div",{className:"removeOutline",children:Object(u.jsxs)(R,{in:g,children:[w&&!z&&Object(u.jsxs)("div",{className:d.paper,children:[Object(u.jsx)(U,{variant:"standard",className:d.margin,fullWidth:!0,label:"Enter your name",onChange:function(e){return l(e.target.value)},name:"email",value:s,autoComplete:"off",InputProps:{className:d.label}}),Object(u.jsx)("br",{}),Object(u.jsx)(f.CopyToClipboard,{text:t,children:Object(u.jsxs)("button",{type:"button",className:"btn",onClick:W,children:[Object(u.jsx)("span",{className:"btn__small__text",children:"COPY YOUR ID"}),Object(u.jsx)("span",{className:"btn__icon",children:Object(u.jsx)(y.a,{fontSize:"large"})})]})})]}),z&!w&&Object(u.jsxs)("div",{className:d.paper,children:[Object(u.jsx)(U,{variant:"standard",className:d.margin,fullWidth:!0,label:"ID to call",onChange:function(e){return h(e.target.value)},name:"email",value:x,autoComplete:"off",InputProps:{className:d.label}}),Object(u.jsx)("br",{}),a&&!i?Object(u.jsxs)("button",{type:"button",className:"btn",onClick:j,children:[Object(u.jsx)("span",{className:"button__icon",children:Object(u.jsx)(S.a,{fontSize:"large"})}),Object(u.jsx)("span",{className:"button__text",children:"HANG UP"})]}):Object(u.jsxs)("button",{type:"button",onClick:function(){return b(x)},className:"btn",children:[Object(u.jsx)("span",{onClick:W,className:"button__icon",children:Object(u.jsx)(o.a,{fontSize:"large"})}),Object(u.jsx)("span",{className:"button__text",children:"CALL"})]})]})]})})})]})})},H=Object(i.a)((function(e){return{wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100vw"}}}));var T=function(){var e=H(),t=Object(u.jsx)(E,{});return[/Android/i,/webOS/i,/iPhone/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))&&(t=Object(u.jsx)(L,{})),Object(u.jsxs)("div",{className:e.wrapper,children:[Object(u.jsx)(x,{}),t,Object(u.jsx)(F,{})]})};a(184);l.a.render(Object(u.jsx)(p,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.b9b2ea34.chunk.js.map